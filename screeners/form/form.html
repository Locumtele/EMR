<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment Loading...</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="form-container">
        <div class="title-box">
            <div id="dynamic-title">Loading Assessment...</div>
            <div class="subtitle">Complete your personalized health assessment</div>
        </div>
        <div id="loading" class="question-group loading">
            <h2>Loading Assessment...</h2>
            <p>Please wait while we load your screening questions</p>
        </div>
        <form id="form" class="form-content form-hidden">
            <div id="questions"></div>
        </form>
    </div>

    <script src="form.js"></script>
    <script>
        function sendHeight() {
          const height = document.documentElement.scrollHeight || document.body.scrollHeight;
          parent.postMessage({ frameHeight: height }, "*");
        }
      
        // Run once on load
        window.addEventListener("load", sendHeight);
      
        // Run again on resize
        window.addEventListener("resize", sendHeight);
      
        // Keep watching in case new questions are added dynamically
        const observer = new MutationObserver(sendHeight);
        observer.observe(document.body, {
          childList: true,
          subtree: true,
          attributes: true
        });
      </script>
</body>
</html>
